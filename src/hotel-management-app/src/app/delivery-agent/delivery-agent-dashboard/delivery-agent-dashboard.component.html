<app-deliveryagent-navbar></app-deliveryagent-navbar>
<h2 class="para-align" *ngIf="!orders.length">No Undelivered Orders</h2>

<div *ngFor="let order of orders" class="order-container">
    <mat-card class="order-card">
    <mat-card-header>
        <mat-card-title>Order ID: #{{ order.orderId }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <p><strong>Restaurant: </strong>{{ getRestaurantName(order.restaurantId) }}</p>
        <h6><strong>Customer Name: </strong> {{ getCustomerName(order.userId) }}</h6>
        <p><strong>Total Amount:</strong> â‚¹{{ order.totalAmount }} (paid)</p>
        <p><strong>Items:</strong></p>
        <ul>
          <li *ngFor="let item of order.items">{{ item.name }} - {{ item.quantity }}</li>
        </ul>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="acceptOrder(order.orderId)" *ngIf="order.status!== 'Picked'">Accept</button>
        <button mat-raised-button color="warn" (click)="rejectOrder(order.id)" *ngIf="order.status !== 'Picked'">Reject</button>
        <button mat-raised-button color="accent" *ngIf="order.status === 'Picked'" (click)="markAsDelivered(order.orderId)">
          Mark as Delivered
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
  